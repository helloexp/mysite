# HG changeset patch
# User Gijs Kruitbosch <gijskruitbosch@gmail.com>
# Date 1440678047 -3600
#      Thu Aug 27 13:20:47 2015 +0100
# Node ID 8f3e3507841f91384fe78abbc2b92f08ac0e6cd5
# Parent  8866f9df9b86698009c77bddde8c94cc1ad90f1f
Bug 1195976, r?margaret

diff --git a/toolkit/components/reader/ReaderMode.jsm b/toolkit/components/reader/ReaderMode.jsm
--- a/toolkit/components/reader/ReaderMode.jsm
+++ b/toolkit/components/reader/ReaderMode.jsm
@@ -221,20 +221,26 @@ this.ReaderMode = {
                   errorMsg += " Refresh target URI: '" + url + "'.";
                 reject(errorMsg);
                 return;
               }
               // Otherwise, pass an object indicating our new URL:
               reject({newURL: url});
               return;
             }
           }
         }
+        if (xhr.responseURL != url) {
+          // We were redirected without a meta refresh tag.
+          // Force redirect to the correct place:
+          reject({newURL: xhr.responseURL});
+          return;
+        }
         resolve(doc);
         histogram.add(DOWNLOAD_SUCCESS);
       }
       xhr.send();
     });
   },
 
 
   /**
    * Retrieves an article from the cache given an article URI.
