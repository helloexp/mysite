+++ include/linux/sched.h
--- include/linux/sched.h
@@ -835,6 +835,7 @@ struct user_struct {
 #endif
 unsigned long locked_shm; /* How many pages of mlocked shm ? */
 unsigned long unix_inflight;	/* How many files in flight in unix sockets */
+	atomic_long_t pipe_bufs;  /* how many pages are allocated in pipe buffers */
 
 #ifdef CONFIG_KEYS
 struct key *uid_keyring;	/* UID specific keyring */
